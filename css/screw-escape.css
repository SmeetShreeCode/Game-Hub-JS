:root{
  --bg-1: #0b0f12;
  --bg-2: #1c2125;
  --plate-grad-a: #d6d7d8;
  --plate-grad-b: #9fa1a3;
  --metal-shadow: rgba(0,0,0,0.35);
  --accent: #ffd166;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,Segoe UI,system-ui,Arial;background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:#eef}
.ui-bar{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);backdrop-filter:blur(2px)}
.ui-bar h1{margin:0;font-size:1.1rem}
.controls{display:flex;align-items:center;gap:10px}
.btn{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.06);color:#fff;padding:8px 10px;border-radius:8px;cursor:pointer}
.btn:active{transform:translateY(1px)}
.board{position:relative;margin:18px auto;max-width:980px;width:94%;height:64vh;border-radius:10px;overflow:hidden;background:radial-gradient(1200px 400px at 10% 0%, rgba(255,255,255,0.02), transparent), linear-gradient(180deg,#0f1416,#15191c);box-shadow:0 8px 24px rgba(0,0,0,0.6);padding:20px}
.hint{padding:10px 16px;color:#cbd5e1;text-align:center}
.message{position:absolute;left:50%;top:10px;transform:translateX(-50%);background:rgba(0,0,0,0.5);padding:8px 12px;border-radius:8px;color:#fff;display:none}

/* Plate styling */
.plate{position:absolute;border-radius:6px;box-shadow:inset 0 -6px 20px rgba(255,255,255,0.02), 0 8px 20px var(--metal-shadow);background:linear-gradient(180deg,var(--plate-grad-a),var(--plate-grad-b));display:flex;align-items:center;justify-content:center;color:#222;font-weight:700}
.plate .label{pointer-events:none}
.plate.falling{transition:transform 900ms cubic-bezier(.08,.9,.08,1),opacity 900ms;transform:translateY(110vh) rotate(6deg);opacity:0}

/* Screw styling */
.screw{position:absolute;width:34px;height:34px;border-radius:50%;background:linear-gradient(180deg,#bbb,#888);box-shadow:inset 0 2px 6px rgba(255,255,255,0.6),0 2px 6px rgba(0,0,0,0.4);display:flex;align-items:center;justify-content:center;border:2px solid rgba(0,0,0,0.25);cursor:pointer;transition:transform 160ms,opacity 300ms}
.screw:active{transform:scale(.95)}
.screw.removed{opacity:0;pointer-events:none;transform:scale(.6)}
.screw .cross{font-size:14px;color:#222;text-shadow:0 1px 0 rgba(255,255,255,0.6)}

.screw.locked{filter:grayscale(.6);opacity:.7}

/* Responsive tweaks */
@media (max-width:640px){
  .board{height:68vh;padding:12px}
  .screw{width:30px;height:30px}
}

/* Simple success highlight */
.plate.removed-ghost{opacity:0.0}

/* accessibility focus */
.screw:focus{outline:2px solid var(--accent);outline-offset:2px}

/* More polished screw: use an inset highlight and small slot */
.screw{background:radial-gradient(circle at 30% 25%, #fff9 0%, transparent 18%), linear-gradient(180deg,#d8d8d8,#9a9a9a);border-radius:50%;}
.screw::after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:18px;height:4px;background:linear-gradient(180deg,#666,#222);border-radius:2px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.2)}
.screw .cross{display:none}

/* subtle shadow under plates to imply depth */
.plate{box-shadow:inset 0 -6px 20px rgba(255,255,255,0.02), 0 12px 30px rgba(0,0,0,0.6)}

/* particles for plate fall */
.particle{position:absolute;width:8px;height:8px;background:var(--accent);opacity:0.95;border-radius:2px;pointer-events:none;transform-origin:center;transition:transform 900ms ease-out,opacity 900ms}

/* Modal styles */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:1200;opacity:0;pointer-events:none;transition:opacity 240ms}
.modal[aria-hidden="false"]{opacity:1;pointer-events:auto}
.modal-content{background:linear-gradient(180deg,#111217,#0f1316);padding:22px;border-radius:12px;min-width:300px;color:#fff;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,0.7)}
.modal h2{margin:0 0 8px;font-size:1.4rem}
.modal .modal-actions{display:flex;gap:8px;justify-content:center;margin-top:12px}
.modal .modal-stats{color:#cbd5e1;margin-top:8px}

/* Confetti */
.confetti-layer{position:absolute;inset:0;pointer-events:none;overflow:hidden}
.confetti-piece{position:absolute;width:10px;height:18px;opacity:0;transform:translateY(-20px) rotate(0deg);}
.confetti-piece.show{opacity:1;animation:confetti-fall 1400ms cubic-bezier(.2,.8,.2,1) forwards}
@keyframes confetti-fall{0%{transform:translateY(-40px) rotate(0deg)}100%{transform:translateY(90vh) rotate(720deg);opacity:0}}

/* make modal buttons pop */
.modal .btn{background:linear-gradient(180deg,#fff2,#e6d7);color:#111;padding:8px 12px;border-radius:8px}

